let restaurant;var map;document.addEventListener("DOMContentLoaded",e=>{DBHelper.initServiceWorker(),fetchRestaurantFromURL((e,t)=>{fillBreadcrumb()})}),window.initMap=(()=>{fetchRestaurantFromURL((e,t)=>{e?console.error(e):(self.map=new google.maps.Map(document.getElementById("map"),{zoom:16,center:t.latlng,scrollwheel:!1}),DBHelper.mapMarkerForRestaurant(self.restaurant,self.map))})}),fetchRestaurantFromURL=(e=>{if(self.restaurant)return void e(null,self.restaurant);const t=getParameterByName("id");t?DBHelper.fetchRestaurantById(t,(t,n)=>{self.restaurant=n,n?(fillRestaurantHTML(),e(null,n)):console.error(t)}):(error="No restaurant id in URL",e(error,null))}),fillRestaurantHTML=((e=self.restaurant)=>{document.getElementById("restaurant-name").innerHTML=e.name,document.getElementById("restaurant-address").innerHTML=e.address;const t=document.getElementById("restaurant-img");t.querySelector("img").className="restaurant-img",t.querySelector("img").src=`/img/${e.id}.png`,t.querySelector("source").srcset=`/img/${e.id}.webp`,t.alt=`Picture of restaurant ${e.name}`,document.getElementById("restaurant-cuisine").innerHTML=e.cuisine_type,e.operating_hours&&fillRestaurantHoursHTML(),fillReviewsHTML()}),fillRestaurantHoursHTML=((e=self.restaurant.operating_hours)=>{const t=document.getElementById("restaurant-hours");for(let n in e){const r=document.createElement("tr"),a=document.createElement("td");a.innerHTML=n,r.appendChild(a);const s=document.createElement("td");s.innerHTML=e[n],r.appendChild(s),t.appendChild(r)}}),fillReviewsHTML=((e=self.restaurant.reviews)=>{const t=document.getElementById("reviews-container"),n=document.createElement("h4");if(n.innerHTML="Reviews",t.appendChild(n),!e){const e=document.createElement("p");return e.innerHTML="No reviews yet!",void t.appendChild(e)}const r=document.getElementById("reviews-list");e.forEach(e=>{r.appendChild(createReviewHTML(e))}),t.appendChild(r)}),createReviewHTML=(e=>{const t=`\n  <li>\n    <p tabindex="0" class="review-name">${e.name}</p>\n    <p class="review-date">${e.date}</p>\n    <p class="review-rating"><span>Rating: ${e.rating}</span></p>\n    <p class="review-comments">${e.comments}</p>\n  </li>  \n  `;return document.createRange().createContextualFragment(t)}),fillBreadcrumb=((e=self.restaurant)=>{const t=document.getElementById("breadcrumb"),n=document.createElement("li");n.innerHTML=e.name,t.appendChild(n)}),getParameterByName=((e,t)=>{t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");const n=new RegExp(`[?&]${e}(=([^&#]*)|&|#|$)`).exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlc3RhdXJhbnRfaW5mby5qcyJdLCJuYW1lcyI6WyJyZXN0YXVyYW50IiwibWFwIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJEQkhlbHBlciIsImluaXRTZXJ2aWNlV29ya2VyIiwiZmV0Y2hSZXN0YXVyYW50RnJvbVVSTCIsImVycm9yIiwiZmlsbEJyZWFkY3J1bWIiLCJ3aW5kb3ciLCJpbml0TWFwIiwiY29uc29sZSIsInNlbGYiLCJnb29nbGUiLCJtYXBzIiwiTWFwIiwiZ2V0RWxlbWVudEJ5SWQiLCJ6b29tIiwiY2VudGVyIiwibGF0bG5nIiwic2Nyb2xsd2hlZWwiLCJtYXBNYXJrZXJGb3JSZXN0YXVyYW50IiwiY2FsbGJhY2siLCJpZCIsImdldFBhcmFtZXRlckJ5TmFtZSIsImZldGNoUmVzdGF1cmFudEJ5SWQiLCJmaWxsUmVzdGF1cmFudEhUTUwiLCJpbm5lckhUTUwiLCJuYW1lIiwiYWRkcmVzcyIsImltYWdlIiwicXVlcnlTZWxlY3RvciIsImNsYXNzTmFtZSIsInNyYyIsInNyY3NldCIsImFsdCIsImN1aXNpbmVfdHlwZSIsIm9wZXJhdGluZ19ob3VycyIsImZpbGxSZXN0YXVyYW50SG91cnNIVE1MIiwiZmlsbFJldmlld3NIVE1MIiwib3BlcmF0aW5nSG91cnMiLCJob3VycyIsImtleSIsInJvdyIsImNyZWF0ZUVsZW1lbnQiLCJkYXkiLCJhcHBlbmRDaGlsZCIsInRpbWUiLCJyZXZpZXdzIiwiY29udGFpbmVyIiwidGl0bGUiLCJub1Jldmlld3MiLCJ1bCIsImZvckVhY2giLCJyZXZpZXciLCJjcmVhdGVSZXZpZXdIVE1MIiwidGVtcGxhdGUiLCJkYXRlIiwicmF0aW5nIiwiY29tbWVudHMiLCJjcmVhdGVSYW5nZSIsImNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudCIsImJyZWFkY3J1bWIiLCJsaSIsInVybCIsImxvY2F0aW9uIiwiaHJlZiIsInJlcGxhY2UiLCJyZXN1bHRzIiwiUmVnRXhwIiwiZXhlYyIsImRl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QUFZaUIsS0FNekJ2QyxtQkFBcUIsRUFBQ0ksRUFBTW9DLEtBQ3JCQSxJQUNIQSxFQUFNdkQsT0FBT3dELFNBQVNDLE1BQ3hCdEMsRUFBT0EsRUFBS3VDLFFBQVEsVUFBVyxRQUMvQixNQUNFQyxFQURZLElBQUlDLGNBQWN6QyxzQkFDZDBDLEtBQUtOLEdBQ3ZCLE9BQUtJLEVBRUFBLEVBQVEsR0FFTkcsbUJBQW1CSCxFQUFRLEdBQUdELFFBQVEsTUFBTyxNQUQzQyxHQUZBIiwiZmlsZSI6InJlc3RhdXJhbnRfaW5mby5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCByZXN0YXVyYW50O1xudmFyIG1hcDtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIChldmVudCkgPT4ge1xuICBEQkhlbHBlci5pbml0U2VydmljZVdvcmtlcigpO1xuICBmZXRjaFJlc3RhdXJhbnRGcm9tVVJMKChlcnJvciwgcmVzdGF1cmFudCkgPT4ge1xuICAgIGZpbGxCcmVhZGNydW1iKCk7XG4gIH0pO1xufSk7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBHb29nbGUgbWFwLCBjYWxsZWQgZnJvbSBIVE1MLlxuICovXG53aW5kb3cuaW5pdE1hcCA9ICgpID0+IHtcbiAgZmV0Y2hSZXN0YXVyYW50RnJvbVVSTCgoZXJyb3IsIHJlc3RhdXJhbnQpID0+IHtcbiAgICBpZiAoZXJyb3IpIHsgLy8gR290IGFuIGVycm9yIVxuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYubWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyksIHtcbiAgICAgICAgem9vbTogMTYsXG4gICAgICAgIGNlbnRlcjogcmVzdGF1cmFudC5sYXRsbmcsXG4gICAgICAgIHNjcm9sbHdoZWVsOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICAvLyBmaWxsQnJlYWRjcnVtYigpO1xuICAgICAgREJIZWxwZXIubWFwTWFya2VyRm9yUmVzdGF1cmFudChzZWxmLnJlc3RhdXJhbnQsIHNlbGYubWFwKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIEdldCBjdXJyZW50IHJlc3RhdXJhbnQgZnJvbSBwYWdlIFVSTC5cbiAqL1xuZmV0Y2hSZXN0YXVyYW50RnJvbVVSTCA9IChjYWxsYmFjaykgPT4ge1xuICBpZiAoc2VsZi5yZXN0YXVyYW50KSB7IC8vIHJlc3RhdXJhbnQgYWxyZWFkeSBmZXRjaGVkIVxuICAgIGNhbGxiYWNrKG51bGwsIHNlbGYucmVzdGF1cmFudClcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgaWQgPSBnZXRQYXJhbWV0ZXJCeU5hbWUoJ2lkJyk7XG4gIGlmICghaWQpIHsgLy8gbm8gaWQgZm91bmQgaW4gVVJMXG4gICAgZXJyb3IgPSAnTm8gcmVzdGF1cmFudCBpZCBpbiBVUkwnXG4gICAgY2FsbGJhY2soZXJyb3IsIG51bGwpO1xuICB9IGVsc2Uge1xuICAgIERCSGVscGVyLmZldGNoUmVzdGF1cmFudEJ5SWQoaWQsIChlcnJvciwgcmVzdGF1cmFudCkgPT4ge1xuICAgICAgc2VsZi5yZXN0YXVyYW50ID0gcmVzdGF1cmFudDtcbiAgICAgIGlmICghcmVzdGF1cmFudCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZmlsbFJlc3RhdXJhbnRIVE1MKCk7XG4gICAgICBjYWxsYmFjayhudWxsLCByZXN0YXVyYW50KVxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlIHJlc3RhdXJhbnQgSFRNTCBhbmQgYWRkIGl0IHRvIHRoZSB3ZWJwYWdlXG4gKi9cbmZpbGxSZXN0YXVyYW50SFRNTCA9IChyZXN0YXVyYW50ID0gc2VsZi5yZXN0YXVyYW50KSA9PiB7XG4gIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdGF1cmFudC1uYW1lJyk7XG4gIG5hbWUuaW5uZXJIVE1MID0gcmVzdGF1cmFudC5uYW1lO1xuXG4gIGNvbnN0IGFkZHJlc3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdGF1cmFudC1hZGRyZXNzJyk7XG4gIGFkZHJlc3MuaW5uZXJIVE1MID0gcmVzdGF1cmFudC5hZGRyZXNzO1xuXG4gIGNvbnN0IGltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3RhdXJhbnQtaW1nJyk7XG4gIGltYWdlLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLmNsYXNzTmFtZSA9ICdyZXN0YXVyYW50LWltZyc7XG4gIGltYWdlLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLnNyYyA9IGAvaW1nLyR7cmVzdGF1cmFudC5pZH0ucG5nYDtcbiAgaW1hZ2UucXVlcnlTZWxlY3Rvcignc291cmNlJykuc3Jjc2V0ID0gYC9pbWcvJHtyZXN0YXVyYW50LmlkfS53ZWJwYDtcbiAgaW1hZ2UuYWx0ID0gYFBpY3R1cmUgb2YgcmVzdGF1cmFudCAke3Jlc3RhdXJhbnQubmFtZX1gO1xuICAvLyBpbWFnZS5zcmMgPSBEQkhlbHBlci5pbWFnZVVybEZvclJlc3RhdXJhbnQocmVzdGF1cmFudCk7XG5cbiAgY29uc3QgY3Vpc2luZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN0YXVyYW50LWN1aXNpbmUnKTtcbiAgY3Vpc2luZS5pbm5lckhUTUwgPSByZXN0YXVyYW50LmN1aXNpbmVfdHlwZTtcblxuICAvLyBmaWxsIG9wZXJhdGluZyBob3Vyc1xuICBpZiAocmVzdGF1cmFudC5vcGVyYXRpbmdfaG91cnMpIHtcbiAgICBmaWxsUmVzdGF1cmFudEhvdXJzSFRNTCgpO1xuICB9XG4gIC8vIGZpbGwgcmV2aWV3c1xuICBmaWxsUmV2aWV3c0hUTUwoKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgcmVzdGF1cmFudCBvcGVyYXRpbmcgaG91cnMgSFRNTCB0YWJsZSBhbmQgYWRkIGl0IHRvIHRoZSB3ZWJwYWdlLlxuICovXG5maWxsUmVzdGF1cmFudEhvdXJzSFRNTCA9IChvcGVyYXRpbmdIb3VycyA9IHNlbGYucmVzdGF1cmFudC5vcGVyYXRpbmdfaG91cnMpID0+IHtcbiAgY29uc3QgaG91cnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdGF1cmFudC1ob3VycycpO1xuICBmb3IgKGxldCBrZXkgaW4gb3BlcmF0aW5nSG91cnMpIHtcbiAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuXG4gICAgY29uc3QgZGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICBkYXkuaW5uZXJIVE1MID0ga2V5O1xuICAgIHJvdy5hcHBlbmRDaGlsZChkYXkpO1xuXG4gICAgY29uc3QgdGltZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgdGltZS5pbm5lckhUTUwgPSBvcGVyYXRpbmdIb3Vyc1trZXldO1xuICAgIHJvdy5hcHBlbmRDaGlsZCh0aW1lKTtcblxuICAgIGhvdXJzLmFwcGVuZENoaWxkKHJvdyk7XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgYWxsIHJldmlld3MgSFRNTCBhbmQgYWRkIHRoZW0gdG8gdGhlIHdlYnBhZ2UuXG4gKi9cbmZpbGxSZXZpZXdzSFRNTCA9IChyZXZpZXdzID0gc2VsZi5yZXN0YXVyYW50LnJldmlld3MpID0+IHtcbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jldmlld3MtY29udGFpbmVyJyk7XG4gIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDQnKTtcbiAgdGl0bGUuaW5uZXJIVE1MID0gJ1Jldmlld3MnO1xuICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGl0bGUpO1xuXG4gIGlmICghcmV2aWV3cykge1xuICAgIGNvbnN0IG5vUmV2aWV3cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBub1Jldmlld3MuaW5uZXJIVE1MID0gJ05vIHJldmlld3MgeWV0ISc7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG5vUmV2aWV3cyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jldmlld3MtbGlzdCcpO1xuICByZXZpZXdzLmZvckVhY2gocmV2aWV3ID0+IHtcbiAgICB1bC5hcHBlbmRDaGlsZChjcmVhdGVSZXZpZXdIVE1MKHJldmlldykpO1xuICB9KTtcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKHVsKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgcmV2aWV3IEhUTUwgYW5kIGFkZCBpdCB0byB0aGUgd2VicGFnZS5cbiAqL1xuY3JlYXRlUmV2aWV3SFRNTCA9IChyZXZpZXcpID0+IHtcblxuICBjb25zdCB0ZW1wbGF0ZSA9IGBcbiAgPGxpPlxuICAgIDxwIHRhYmluZGV4PVwiMFwiIGNsYXNzPVwicmV2aWV3LW5hbWVcIj4ke3Jldmlldy5uYW1lfTwvcD5cbiAgICA8cCBjbGFzcz1cInJldmlldy1kYXRlXCI+JHtyZXZpZXcuZGF0ZX08L3A+XG4gICAgPHAgY2xhc3M9XCJyZXZpZXctcmF0aW5nXCI+PHNwYW4+UmF0aW5nOiAke3Jldmlldy5yYXRpbmd9PC9zcGFuPjwvcD5cbiAgICA8cCBjbGFzcz1cInJldmlldy1jb21tZW50c1wiPiR7cmV2aWV3LmNvbW1lbnRzfTwvcD5cbiAgPC9saT4gIFxuICBgO1xuXG4gIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgY29uc3QgZnJhZ21lbnQgPSByYW5nZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQodGVtcGxhdGUpO1xuXG4gIHJldHVybiBmcmFnbWVudDtcblxufVxuXG4vKipcbiAqIEFkZCByZXN0YXVyYW50IG5hbWUgdG8gdGhlIGJyZWFkY3J1bWIgbmF2aWdhdGlvbiBtZW51XG4gKi9cbmZpbGxCcmVhZGNydW1iID0gKHJlc3RhdXJhbnQ9c2VsZi5yZXN0YXVyYW50KSA9PiB7XG4gIGNvbnN0IGJyZWFkY3J1bWIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWRjcnVtYicpO1xuICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gIGxpLmlubmVySFRNTCA9IHJlc3RhdXJhbnQubmFtZTtcbiAgYnJlYWRjcnVtYi5hcHBlbmRDaGlsZChsaSk7XG59XG5cbi8qKlxuICogR2V0IGEgcGFyYW1ldGVyIGJ5IG5hbWUgZnJvbSBwYWdlIFVSTC5cbiAqL1xuZ2V0UGFyYW1ldGVyQnlOYW1lID0gKG5hbWUsIHVybCkgPT4ge1xuICBpZiAoIXVybClcbiAgICB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgbmFtZSA9IG5hbWUucmVwbGFjZSgvW1xcW1xcXV0vZywgJ1xcXFwkJicpO1xuICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoYFs/Jl0ke25hbWV9KD0oW14mI10qKXwmfCN8JClgKSxcbiAgICByZXN1bHRzID0gcmVnZXguZXhlYyh1cmwpO1xuICBpZiAoIXJlc3VsdHMpXG4gICAgcmV0dXJuIG51bGw7XG4gIGlmICghcmVzdWx0c1syXSlcbiAgICByZXR1cm4gJyc7XG4gIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0c1syXS5yZXBsYWNlKC9cXCsvZywgJyAnKSk7XG59XG4iXX0=
